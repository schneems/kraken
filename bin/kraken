#!/usr/bin/env ruby

require 'bundler/setup'
require 'require_all'
require 'kraken'

if ARGV.include? '-v'
  puts 'KrakenLab'
  puts "-v #{Kraken::VERSION}"
  exit
end

require_all 'app'
require_all 'config'

if ARGV.include? '-d'
  require 'irb'
  IRB.start(__FILE__)
  exit
end

Kraken::Listener.new.join if ARGV.include? '-s'

if ARGV.include? '-c'
  Kraken::Listener.new
  IRB.start(__FILE__)
  exit
end
